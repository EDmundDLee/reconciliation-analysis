<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rongxin.cms.mapper.BizColumnTreeMapper">
    
    <resultMap type="BizColumnTree" id="BizColumnTreeResult">
        <result property="id"    column="id"    />
        <result property="parentId"    column="parent_id"    />
        <result property="name"    column="name"    />
        <result property="createDate"    column="create_date"    />
        <result property="createName"    column="create_name"    />
        <result property="createId"    column="create_id"    />
        <result property="colDelete"    column="col_delete"    />
    </resultMap>

    <sql id="selectBizColumnVo">
        select id, parent_id, name, create_date, create_name, create_id, col_delete from biz_column
    </sql>

    <select id="selectColList" parameterType="BizColumn" resultMap="BizColumnTreeResult">
        <include refid="selectBizColumnVo"/>
        where  col_delete = '0'
        <if test="name != null and name != ''">
            AND name like concat('%', #{name}, '%')
        </if>
        order by parent_id, id
    </select>
</mapper>